<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Understanding Python Decorator and Its Usage<!-- --> | aaditya&#x27;s blog</title><meta name="description" content="This post is about Machine Learning, python, coding, decorator, callbacks, developer, python skill, ."/><meta property="og:title" content="My Personal blog site."/><meta property="og:description" content="This post is about Machine Learning, python, coding, decorator, callbacks, developer, python skill, ."/><meta property="og:url" content="https://aadityachapagain.com//posts/understanding-python-decorator-with-its-usage"/><meta property="og:type" content="website"/><meta name="keywords" content="Machine Learning"/><meta name="keywords" content=" python"/><meta name="keywords" content=" coding"/><meta name="keywords" content=" decorator"/><meta name="keywords" content=" callbacks"/><meta name="keywords" content=" developer"/><meta name="keywords" content=" python skill"/><meta name="keywords" content=""/><meta name="next-head-count" content="16"/><meta charSet="utf-8"/><meta name="robots" content="follow, index"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><link rel="preload" href="/_next/static/css/827eadc034f20331.css" as="style"/><link rel="stylesheet" href="/_next/static/css/827eadc034f20331.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-10779d2dcf90bfb3.js" defer=""></script><script src="/_next/static/chunks/pages/_app-53c0096520f315a8.js" defer=""></script><script src="/_next/static/chunks/281-2503d455e5b415a8.js" defer=""></script><script src="/_next/static/chunks/113-e447bd8132396402.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-3f32a22c118677b3.js" defer=""></script><script src="/_next/static/k_09xrTNq9uqtbBZ_acaQ/_buildManifest.js" defer=""></script><script src="/_next/static/k_09xrTNq9uqtbBZ_acaQ/_ssgManifest.js" defer=""></script></head><body class="bg-white text-gray-700 antialiased"><div id="__next"><div class="flex flex-col h-screen "><header class="py-8 lg:px-10 "><div class="px-2 md:px-8 relative"><nav class="flex space-x-6 text-zinc-400 tracking-wide items-center justify-between "><a class="text-xl ml-4 " href="/"><div class="flex flex-row gap-1 items-center content-center "><img alt="profile logo" loading="lazy" width="48" height="48" decoding="async" data-nimg="1" class="mr-2" style="color:transparent" srcSet="https://aadiimages.imgix.net//aaditya-profile.png?w=48&amp;q=75 1x, https://aadiimages.imgix.net//aaditya-profile.png?w=96&amp;q=75 2x" src="https://aadiimages.imgix.net//aaditya-profile.png?w=96&amp;q=75"/> <span class="font-bold text-black">Aaditya</span> <span>Chapagain</span></div></a><div class="grow h-full"> </div><div class="hidden lg:flex space-x-6 text-zinc-400 tracking-wide items-center justify-between "><a class=" undefined" href="/">About Me</a><a class=" undefined" href="/posts">Logs</a><a class=" undefined" href="/projects">Projects</a><a class=" undefined" href="/resume">Resume</a><a class=" undefined" href="/contact">Contact</a></div><div class="flex lg:hidden border rounded-md p-2 mr-3 hover:bg-stone-200 "><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="font-size:24px;color:black"><path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"></path></svg></div></nav></div></header><div class="p-4 lg:p-8  inline-block grow "><main class="py-8 px-8 lg:px-0 "><div class="container max-w-3xl m-auto px-4"><div><article><header><h1 class="text-4xl font-bold">Understanding Python Decorator and Its Usage</h1><p class="mt-2 text-xl">Upskill your python using awesome decorators</p><time class="flex mt-2 text-gray-400">1 year ago</time></header><div class="prose mt-10 "><p>You might have seen python code that has <code>@&#x3C;function_or_class></code> written immediately above a function or Class.
For Example, <code>@staticmethod</code> right above static method or <code>@classmethod</code> right above class method. Those are
actually Python decorators. Decorators allow an existing function to be extended without changing the source code.</p>
<p>In this blog, we will comprehend a decorator structure, examine advanced behaviours including drawbacks and ways to overcome it, nested decorators, stacking decorators and eventually some practical applications, develop our own multi-purpose decorators.</p>
<h2 id="table-of-contents">Table of contents</h2>
<ol>
<li><a href="#writing-decorator">Writing Decorator</a></li>
<li><a href="#advanced-behaviours-of-decorators">Advanced behaviours of Decorators</a>
<ol>
<li><a href="#retain-metadata-of-wrapped-function">Retain metadata of wrapped function</a></li>
<li><a href="#decorators-that-accept-arguments">Decorators that accept arguments</a></li>
<li><a href="#stacking-decorators">Stacking decorators</a></li>
</ol>
</li>
<li><a href="#usage-of-decorators">Usage of Decorators</a>
<ol>
<li><a href="#measuring-execution-time-of-functions">Measuring execution time of functions</a></li>
<li><a href="#debug-with-logging">Debug with logging</a></li>
<li><a href="#registering-plugins">Registering Plugins</a></li>
<li><a href="#creating-a-singleton-class">Creating a singleton class</a></li>
</ol>
</li>
<li><a href="#references">REFERENCES</a></li>
</ol>
<h2 id="writing-decorator">Writing Decorator</h2>
<p>Decorators are often referred to as function wrappers because they accept a function as a paramter and return a modified version of the function that has additional features or capabilites.</p>
<pre><code class="hljs language-python">
<span class="hljs-keyword">def</span> <span class="hljs-title function_">simple_decorator</span>(<span class="hljs-params">func</span>):
  <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
    <span class="hljs-comment"># do something before function execution</span>
    result = func (*args, **kwargs)
    <span class="hljs-comment"># do something after function execution</span>
    <span class="hljs-keyword">return</span> result
  <span class="hljs-keyword">return</span> wrapper

</code></pre>
<p>we can see from the construct above that line 4 is where the function really executes, but we can change what happens before to, during and even after a function execution. Althouh decorators may alter a function's input, output, or behaviour, it is preferable to build them in a way that does not make the function they are wrapping less understandable.</p>
<blockquote>
<p><strong>Decorators are best used to add common behaviour to multiple functions without modifying every function manually</strong></p>
</blockquote>
<h2 id="advanced-behaviours-of-decorators">Advanced behaviours of Decorators</h2>
<h3 id="retain-metadata-of-wrapped-function">Retain metadata of wrapped function</h3>
<p>One major <strong>drawback</strong> of using decorators is that the metadata of function will be destroyed by decorator when actually calling that function in code, because we are returning a wrapper function in place of the original function in the code sample from the previous section, all decorated functions will have their <code>__name__</code> and <code>signature</code> information changed to wrapper's.</p>
<pre><code class="hljs language-python">
<span class="hljs-meta">@simple_decorator</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">func_add</span>(<span class="hljs-params">a, b</span>):
  <span class="hljs-keyword">return</span> a + b

<span class="hljs-built_in">print</span>(func_add.__name__)
<span class="hljs-comment"># wrapper</span>

</code></pre>
<p>Technically, this wouldn't impact how the fucntion or decorator was meant to be used, but it's still advisable to avoid any unexpected outcomes when using a decorator. This can be accomplished quickly by decorating the wrapper function with the <code>@wraps</code> decorator, as illustrated below.The decorator can still be used in the same way, but now the wrapped function's metadata won't be changed.</p>
<pre><code class="hljs language-python">
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps

<span class="hljs-keyword">def</span> <span class="hljs-title function_">sample_decorator</span>(<span class="hljs-params">func</span>):
<span class="hljs-meta">  @wraps(<span class="hljs-params">func</span>)</span>
  <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
    <span class="hljs-comment"># do something before function exec</span>
    result = func(*args, **kwargs)
    <span class="hljs-comment"># do something after function exec</span>
    <span class="hljs-keyword">return</span> result
  <span class="hljs-keyword">return</span> wrapper

</code></pre>
<h3 id="decorators-that-accept-arguments">Decorators that accept arguments</h3>
<p>Under the hood we all know that decorators are just a function wrapper. So, it is possible for decorator to receive arguments to make make this happen , we just need to slight change in coding our decorator.
We will get decorator that will take arguments, If only we just wrap the existing decorator with another function with arguments we wanna pass to the decorator. Easy right !.</p>
<p>Example below I have a <code>debug_decorator</code> that takes parameters and returns a <code>decorator</code> decorator that wraps thea original function in a new one. The several nested function in this can make it appear fairly confusing at first but first creating the original decorator before wrapping it to take argumeants will make it easy to code and understand.</p>
<pre><code class="hljs language-python">
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps

debug_mode = <span class="hljs-literal">True</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">debug_decorator</span>(<span class="hljs-params">debug_mode</span>):
    <span class="hljs-string">"""Example: Passing arguments to a decorator"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func</span>):
<span class="hljs-meta">        @wraps(<span class="hljs-params">func</span>)</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
            <span class="hljs-keyword">if</span> debug_mode:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Function called: <span class="hljs-subst">{func.__name__}</span>"</span>)
            result = func(*args, **kwargs)
            <span class="hljs-keyword">return</span> result
        <span class="hljs-keyword">return</span> wrapper
    <span class="hljs-keyword">return</span> decorator


<span class="hljs-meta">@debug_decorator(<span class="hljs-params">debug_mode</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">func_add</span>(<span class="hljs-params">a, b</span>):
    <span class="hljs-keyword">return</span> a + b


func_add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
<span class="hljs-comment"># Function called: func_add</span>
<span class="hljs-comment"># 3</span>
</code></pre>
<h3 id="stacking-decorators">Stacking decorators</h3>
<p>Decorators, as previously indicated, permit the extension of current functionalities. To add extra extensions, it is possible to stack several decorators over a function. The decorator will be piled in the same order as tahe order of execution.</p>
<p>One thing to remember is that if time-sensitive decorators are layered, they should be added at last. So that they can accurately reflect the execution of time without being influeced by other decorators. Decorators that measure the execution of time of a function, for instance, should be the last to be executed.</p>
<p>Now, that we are familiar with a decorator's structure and sophisticated behaviours, we can explore their actual use!</p>
<h2 id="usage-of-decorators">Usage of Decorators</h2>
<h3 id="measuring-execution-time-of-functions">Measuring execution time of functions</h3>
<p>The <code>timer</code> decorator can measure the execution time of the wrapped function by recording the start time and end time of the function execution and printing the results to the console.</p>
<p>In the code snippet below, we measure the <code>start_time</code> and <code>end_time</code> before and after function execution.</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> time

<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps

<span class="hljs-keyword">def</span> <span class="hljs-title function_">timer</span>(<span class="hljs-params">func</span>):
    <span class="hljs-string">"""Example: Measure execution time of function"""</span>
<span class="hljs-meta">    @wraps(<span class="hljs-params">func</span>)</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Execution time: <span class="hljs-subst">{<span class="hljs-built_in">round</span>(end_time - start_time, <span class="hljs-number">4</span>)}</span>"</span>)
        <span class="hljs-keyword">return</span> result
    <span class="hljs-keyword">return</span> wrapper


<span class="hljs-meta">@timer</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">func_add</span>(<span class="hljs-params">a, b</span>):
    time.sleep(<span class="hljs-number">2</span>)
    <span class="hljs-keyword">return</span> a + b


func_add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
<span class="hljs-comment"># Execution time: 2.0064</span>

</code></pre>
<h3 id="debug-with-logging">Debug with logging</h3>
<p>The <code>logging</code> decorator can be used to log information to a console or log file and is useful for debugging. Below we'll use the <code>logging</code> python package to perform logging.</p>
<pre><code class="hljs language-python">
<span class="hljs-keyword">import</span> logging

<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">logging</span>(<span class="hljs-params">func</span>):
    <span class="hljs-string">"""Example: Logging with decorator"""</span>

<span class="hljs-meta">    @wraps(<span class="hljs-params">func</span>)</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
        log_time = datetime.today().strftime(<span class="hljs-string">"%Y-%m-%d %H:%M:%S"</span>)
        logger.info(<span class="hljs-string">f"<span class="hljs-subst">{log_time}</span>: <span class="hljs-subst">{func.__name__}</span> called"</span>)
        result = func(*args, **kwargs)
        <span class="hljs-keyword">return</span> result
    <span class="hljs-keyword">return</span> wrapper

</code></pre>
<h3 id="registering-plugins">Registering Plugins</h3>
<p>Decorators don’t have to wrap the function they’re decorating. They can also simply register that a function exists and return it unwrapped. This can be used, for instance, to create a light-weight plug-in architecture:</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> random
PLUGINS = <span class="hljs-built_in">dict</span>()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">register</span>(<span class="hljs-params">func</span>):
    <span class="hljs-string">"""Register a function as a plug-in"""</span>
    PLUGINS[func.__name__] = func
    <span class="hljs-keyword">return</span> func

<span class="hljs-meta">@register</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">say_hello</span>(<span class="hljs-params">name</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Hello <span class="hljs-subst">{name}</span>"</span>

<span class="hljs-meta">@register</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">be_awesome</span>(<span class="hljs-params">name</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Yo <span class="hljs-subst">{name}</span>, together we are the awesomest!"</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">randomly_greet</span>(<span class="hljs-params">name</span>):
    greeter, greeter_func = random.choice(<span class="hljs-built_in">list</span>(PLUGINS.items()))
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Using <span class="hljs-subst">{greeter!r}</span>"</span>)
    <span class="hljs-keyword">return</span> greeter_func(name)

</code></pre>
<p>The <code>@register</code> decorator simply stores a reference to the decorated function in the global <code>PLUGINS</code> dict. Note that you do not have to write an inner function or use @functools.wraps in this example because you are returning the original function unmodified.</p>
<p>The randomly_greet() function randomly chooses one of the registered functions to use. Note that the PLUGINS dictionary already contains references to each function object that is registered as a plugin:</p>
<pre><code class="hljs language-python"><span class="hljs-meta">>>> </span>PLUGINS
{<span class="hljs-string">'say_hello'</span>: &#x3C;function say_hello at <span class="hljs-number">0x7f768eae6730</span>>,
 <span class="hljs-string">'be_awesome'</span>: &#x3C;function be_awesome at <span class="hljs-number">0x7f768eae67b8</span>>}

<span class="hljs-meta">>>> </span>randomly_greet(<span class="hljs-string">"Alice"</span>)
Using <span class="hljs-string">'say_hello'</span>
<span class="hljs-string">'Hello Alice'</span>

</code></pre>
<p>The main benefit of this simple plugin architecture is that you do not need to maintain a list of which plugins exist. That list is created when the plugins register themselves. This makes it trivial to add a new plugin: just define the function and decorate it with <code>@register</code>.</p>
<p>If you are familiar with <code>globals()</code> in Python, you might see some similarities to how the plugin architecture works. <code>globals()</code> gives access to all global variables in the current scope, including your plugins:</p>
<pre><code class="hljs language-python">
<span class="hljs-meta">>>> </span><span class="hljs-built_in">globals</span>()
{..., <span class="hljs-comment"># Lots of variables not shown here.</span>
 <span class="hljs-string">'say_hello'</span>: &#x3C;function say_hello at <span class="hljs-number">0x7f768eae6730</span>>,
 <span class="hljs-string">'be_awesome'</span>: &#x3C;function be_awesome at <span class="hljs-number">0x7f768eae67b8</span>>,
 <span class="hljs-string">'randomly_greet'</span>: &#x3C;function randomly_greet at <span class="hljs-number">0x7f768eae6840</span>>}

</code></pre>
<p>Using the <code>@register</code> decorator, you can create your own curated list of interesting variables, effectively hand-picking some functions from <code>globals()</code>.</p>
<h3 id="creating-a-singleton-class">Creating a singleton class</h3>
<blockquote>
<p><strong>Singleton class is a design pattern that restricts the instantiation of a class and ensures that only one instance of the class exists.</strong></p>
</blockquote>
<p>Singleton class is helpful when there is a cap on the number of concurrent users who can use a shared resource or when there is only one point of access to a resource. In python singleton class can be created just using decorator.</p>
<p>Single instantiation can be guaranteed by specifically coding singleton classes. But, utilising decorators is a clever method to reuse the code for several classes if there are several singleton classes.</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps


<span class="hljs-keyword">def</span> <span class="hljs-title function_">singleton</span>(<span class="hljs-params">cls</span>):
    <span class="hljs-string">"""Example: Create singleton class with decorator"""</span>
    instances = {}

<span class="hljs-meta">    @wraps(<span class="hljs-params">cls</span>)</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
        <span class="hljs-keyword">if</span> cls <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> instances:
            instances[cls] = cls(*args, **kwargs)
        <span class="hljs-keyword">return</span> instances[cls]
    <span class="hljs-keyword">return</span> wrapper


<span class="hljs-meta">@singleton</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SampleClass</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">pass</span>


singleton_class = SampleClass()
singleton_class2 = SampleClass()
<span class="hljs-built_in">print</span>(singleton_class == singleton_class2)
<span class="hljs-comment"># True</span>

</code></pre>
<p>Hope, you now have a solid understanding of decorators fundamentals, practical advice and real-world examples. Other applications include the use of decorator for caching, memory management, and timeout precedures. These decorators are more sophisticated, thus using built-in decorators from python or decorators from 3^rd party python packages is preferable to creating them from scratch.</p>
<p>Hope In future , I will come up with new blog posts explaining all the really really complicated python decorators.</p>
<h2 id="references">REFERENCES</h2>
<ul>
<li>
<p><a href="https://www.wikiwand.com/en/Singleton_pattern">https://www.wikiwand.com/en/Singleton_pattern</a></p>
</li>
<li>
<p><a href="https://peps.python.org/pep-0318/">https://peps.python.org/pep-0318/</a></p>
</li>
<li>
<p><a href="https://realpython.com/primer-on-python-decorators/">https://realpython.com/primer-on-python-decorators/</a></p>
</li>
</ul></div></article><div class="mt-20"><form><textarea class="flex w-full max-h-40 p-3 rounded resize-y bg-gray-200 text-gray-900 placeholder-gray-500" rows="2" placeholder="Please login to leave a comment" disabled=""></textarea><div class="flex items-center mt-4"><button type="button" class="py-2 px-4 rounded bg-blue-600 text-white disabled:opacity-40 hover:bg-blue-700">Log In</button></div></form><div class="space-y-6 mt-10"></div></div></div></div></main></div><div class="static inset-x-0 bottom-0 content-center py-6 "><div class="flex flex-auto px-6 text-slate-400 gap-1.5 font-semibold "><div class="grow h-16 "> </div><div class="flex flex-col gap-1.5 items-center content-between "><div class="flex flex-auto items-center gap-2 "><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="copyright" class="svg-inline--fa fa-copyright " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="font-size:20px"><path fill="currentColor" d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM199.4 312.6c-31.2-31.2-31.2-81.9 0-113.1s81.9-31.2 113.1 0c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9c-50-50-131-50-181 0s-50 131 0 181s131 50 181 0c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0c-31.2 31.2-81.9 31.2-113.1 0z"></path></svg><span>   2023  </span><span>Aaditya Chapagain</span></div><div class="ml-2 ">All Rights Reserved</div></div><div class="grow h-16 "> </div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"understanding-python-decorator-with-its-usage","title":"Understanding Python Decorator and Its Usage","date":"2022-03-15 12:00","modified":"2022-03-15 12:00","category":"Blog","summary":"Upskill your python using awesome decorators","tags":"Machine Learning, python, coding, decorator, callbacks, developer, python skill,","authors":["Aaditya Chapagain"],"status":"published","content":"\u003cp\u003eYou might have seen python code that has \u003ccode\u003e@\u0026#x3C;function_or_class\u003e\u003c/code\u003e written immediately above a function or Class.\nFor Example, \u003ccode\u003e@staticmethod\u003c/code\u003e right above static method or \u003ccode\u003e@classmethod\u003c/code\u003e right above class method. Those are\nactually Python decorators. Decorators allow an existing function to be extended without changing the source code.\u003c/p\u003e\n\u003cp\u003eIn this blog, we will comprehend a decorator structure, examine advanced behaviours including drawbacks and ways to overcome it, nested decorators, stacking decorators and eventually some practical applications, develop our own multi-purpose decorators.\u003c/p\u003e\n\u003ch2 id=\"table-of-contents\"\u003eTable of contents\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"#writing-decorator\"\u003eWriting Decorator\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#advanced-behaviours-of-decorators\"\u003eAdvanced behaviours of Decorators\u003c/a\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"#retain-metadata-of-wrapped-function\"\u003eRetain metadata of wrapped function\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#decorators-that-accept-arguments\"\u003eDecorators that accept arguments\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#stacking-decorators\"\u003eStacking decorators\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#usage-of-decorators\"\u003eUsage of Decorators\u003c/a\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"#measuring-execution-time-of-functions\"\u003eMeasuring execution time of functions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#debug-with-logging\"\u003eDebug with logging\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#registering-plugins\"\u003eRegistering Plugins\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#creating-a-singleton-class\"\u003eCreating a singleton class\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#references\"\u003eREFERENCES\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"writing-decorator\"\u003eWriting Decorator\u003c/h2\u003e\n\u003cp\u003eDecorators are often referred to as function wrappers because they accept a function as a paramter and return a modified version of the function that has additional features or capabilites.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esimple_decorator\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efunc\u003c/span\u003e):\n  \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ewrapper\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e*args, **kwargs\u003c/span\u003e):\n    \u003cspan class=\"hljs-comment\"\u003e# do something before function execution\u003c/span\u003e\n    result = func (*args, **kwargs)\n    \u003cspan class=\"hljs-comment\"\u003e# do something after function execution\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e result\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e wrapper\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewe can see from the construct above that line 4 is where the function really executes, but we can change what happens before to, during and even after a function execution. Althouh decorators may alter a function's input, output, or behaviour, it is preferable to build them in a way that does not make the function they are wrapping less understandable.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eDecorators are best used to add common behaviour to multiple functions without modifying every function manually\u003c/strong\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"advanced-behaviours-of-decorators\"\u003eAdvanced behaviours of Decorators\u003c/h2\u003e\n\u003ch3 id=\"retain-metadata-of-wrapped-function\"\u003eRetain metadata of wrapped function\u003c/h3\u003e\n\u003cp\u003eOne major \u003cstrong\u003edrawback\u003c/strong\u003e of using decorators is that the metadata of function will be destroyed by decorator when actually calling that function in code, because we are returning a wrapper function in place of the original function in the code sample from the previous section, all decorated functions will have their \u003ccode\u003e__name__\u003c/code\u003e and \u003ccode\u003esignature\u003c/code\u003e information changed to wrapper's.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\n\u003cspan class=\"hljs-meta\"\u003e@simple_decorator\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efunc_add\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ea, b\u003c/span\u003e):\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e a + b\n\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(func_add.__name__)\n\u003cspan class=\"hljs-comment\"\u003e# wrapper\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTechnically, this wouldn't impact how the fucntion or decorator was meant to be used, but it's still advisable to avoid any unexpected outcomes when using a decorator. This can be accomplished quickly by decorating the wrapper function with the \u003ccode\u003e@wraps\u003c/code\u003e decorator, as illustrated below.The decorator can still be used in the same way, but now the wrapped function's metadata won't be changed.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e functools \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e wraps\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esample_decorator\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efunc\u003c/span\u003e):\n\u003cspan class=\"hljs-meta\"\u003e  @wraps(\u003cspan class=\"hljs-params\"\u003efunc\u003c/span\u003e)\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ewrapper\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e*args, **kwargs\u003c/span\u003e):\n    \u003cspan class=\"hljs-comment\"\u003e# do something before function exec\u003c/span\u003e\n    result = func(*args, **kwargs)\n    \u003cspan class=\"hljs-comment\"\u003e# do something after function exec\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e result\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e wrapper\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"decorators-that-accept-arguments\"\u003eDecorators that accept arguments\u003c/h3\u003e\n\u003cp\u003eUnder the hood we all know that decorators are just a function wrapper. So, it is possible for decorator to receive arguments to make make this happen , we just need to slight change in coding our decorator.\nWe will get decorator that will take arguments, If only we just wrap the existing decorator with another function with arguments we wanna pass to the decorator. Easy right !.\u003c/p\u003e\n\u003cp\u003eExample below I have a \u003ccode\u003edebug_decorator\u003c/code\u003e that takes parameters and returns a \u003ccode\u003edecorator\u003c/code\u003e decorator that wraps thea original function in a new one. The several nested function in this can make it appear fairly confusing at first but first creating the original decorator before wrapping it to take argumeants will make it easy to code and understand.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e functools \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e wraps\n\ndebug_mode = \u003cspan class=\"hljs-literal\"\u003eTrue\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edebug_decorator\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003edebug_mode\u003c/span\u003e):\n    \u003cspan class=\"hljs-string\"\u003e\"\"\"Example: Passing arguments to a decorator\"\"\"\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edecorator\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efunc\u003c/span\u003e):\n\u003cspan class=\"hljs-meta\"\u003e        @wraps(\u003cspan class=\"hljs-params\"\u003efunc\u003c/span\u003e)\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ewrapper\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e*args, **kwargs\u003c/span\u003e):\n            \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e debug_mode:\n                \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003ef\"Function called: \u003cspan class=\"hljs-subst\"\u003e{func.__name__}\u003c/span\u003e\"\u003c/span\u003e)\n            result = func(*args, **kwargs)\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e result\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e wrapper\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e decorator\n\n\n\u003cspan class=\"hljs-meta\"\u003e@debug_decorator(\u003cspan class=\"hljs-params\"\u003edebug_mode\u003c/span\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efunc_add\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ea, b\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e a + b\n\n\nfunc_add(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n\u003cspan class=\"hljs-comment\"\u003e# Function called: func_add\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e# 3\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"stacking-decorators\"\u003eStacking decorators\u003c/h3\u003e\n\u003cp\u003eDecorators, as previously indicated, permit the extension of current functionalities. To add extra extensions, it is possible to stack several decorators over a function. The decorator will be piled in the same order as tahe order of execution.\u003c/p\u003e\n\u003cp\u003eOne thing to remember is that if time-sensitive decorators are layered, they should be added at last. So that they can accurately reflect the execution of time without being influeced by other decorators. Decorators that measure the execution of time of a function, for instance, should be the last to be executed.\u003c/p\u003e\n\u003cp\u003eNow, that we are familiar with a decorator's structure and sophisticated behaviours, we can explore their actual use!\u003c/p\u003e\n\u003ch2 id=\"usage-of-decorators\"\u003eUsage of Decorators\u003c/h2\u003e\n\u003ch3 id=\"measuring-execution-time-of-functions\"\u003eMeasuring execution time of functions\u003c/h3\u003e\n\u003cp\u003eThe \u003ccode\u003etimer\u003c/code\u003e decorator can measure the execution time of the wrapped function by recording the start time and end time of the function execution and printing the results to the console.\u003c/p\u003e\n\u003cp\u003eIn the code snippet below, we measure the \u003ccode\u003estart_time\u003c/code\u003e and \u003ccode\u003eend_time\u003c/code\u003e before and after function execution.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e time\n\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e functools \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e wraps\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003etimer\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efunc\u003c/span\u003e):\n    \u003cspan class=\"hljs-string\"\u003e\"\"\"Example: Measure execution time of function\"\"\"\u003c/span\u003e\n\u003cspan class=\"hljs-meta\"\u003e    @wraps(\u003cspan class=\"hljs-params\"\u003efunc\u003c/span\u003e)\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ewrapper\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e*args, **kwargs\u003c/span\u003e):\n        start_time = time.time()\n        result = func(*args, **kwargs)\n        end_time = time.time()\n        \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003ef\"Execution time: \u003cspan class=\"hljs-subst\"\u003e{\u003cspan class=\"hljs-built_in\"\u003eround\u003c/span\u003e(end_time - start_time, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)}\u003c/span\u003e\"\u003c/span\u003e)\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e result\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e wrapper\n\n\n\u003cspan class=\"hljs-meta\"\u003e@timer\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efunc_add\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ea, b\u003c/span\u003e):\n    time.sleep(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e a + b\n\n\nfunc_add(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n\u003cspan class=\"hljs-comment\"\u003e# Execution time: 2.0064\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"debug-with-logging\"\u003eDebug with logging\u003c/h3\u003e\n\u003cp\u003eThe \u003ccode\u003elogging\u003c/code\u003e decorator can be used to log information to a console or log file and is useful for debugging. Below we'll use the \u003ccode\u003elogging\u003c/code\u003e python package to perform logging.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e logging\n\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e datetime \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e datetime\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e functools \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e wraps\n\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003elogging\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efunc\u003c/span\u003e):\n    \u003cspan class=\"hljs-string\"\u003e\"\"\"Example: Logging with decorator\"\"\"\u003c/span\u003e\n\n\u003cspan class=\"hljs-meta\"\u003e    @wraps(\u003cspan class=\"hljs-params\"\u003efunc\u003c/span\u003e)\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ewrapper\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e*args, **kwargs\u003c/span\u003e):\n        log_time = datetime.today().strftime(\u003cspan class=\"hljs-string\"\u003e\"%Y-%m-%d %H:%M:%S\"\u003c/span\u003e)\n        logger.info(\u003cspan class=\"hljs-string\"\u003ef\"\u003cspan class=\"hljs-subst\"\u003e{log_time}\u003c/span\u003e: \u003cspan class=\"hljs-subst\"\u003e{func.__name__}\u003c/span\u003e called\"\u003c/span\u003e)\n        result = func(*args, **kwargs)\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e result\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e wrapper\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"registering-plugins\"\u003eRegistering Plugins\u003c/h3\u003e\n\u003cp\u003eDecorators don’t have to wrap the function they’re decorating. They can also simply register that a function exists and return it unwrapped. This can be used, for instance, to create a light-weight plug-in architecture:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e random\nPLUGINS = \u003cspan class=\"hljs-built_in\"\u003edict\u003c/span\u003e()\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eregister\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efunc\u003c/span\u003e):\n    \u003cspan class=\"hljs-string\"\u003e\"\"\"Register a function as a plug-in\"\"\"\u003c/span\u003e\n    PLUGINS[func.__name__] = func\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e func\n\n\u003cspan class=\"hljs-meta\"\u003e@register\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esay_hello\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ename\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ef\"Hello \u003cspan class=\"hljs-subst\"\u003e{name}\u003c/span\u003e\"\u003c/span\u003e\n\n\u003cspan class=\"hljs-meta\"\u003e@register\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ebe_awesome\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ename\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003ef\"Yo \u003cspan class=\"hljs-subst\"\u003e{name}\u003c/span\u003e, together we are the awesomest!\"\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erandomly_greet\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ename\u003c/span\u003e):\n    greeter, greeter_func = random.choice(\u003cspan class=\"hljs-built_in\"\u003elist\u003c/span\u003e(PLUGINS.items()))\n    \u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003ef\"Using \u003cspan class=\"hljs-subst\"\u003e{greeter!r}\u003c/span\u003e\"\u003c/span\u003e)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e greeter_func(name)\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe \u003ccode\u003e@register\u003c/code\u003e decorator simply stores a reference to the decorated function in the global \u003ccode\u003ePLUGINS\u003c/code\u003e dict. Note that you do not have to write an inner function or use @functools.wraps in this example because you are returning the original function unmodified.\u003c/p\u003e\n\u003cp\u003eThe randomly_greet() function randomly chooses one of the registered functions to use. Note that the PLUGINS dictionary already contains references to each function object that is registered as a plugin:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-meta\"\u003e\u003e\u003e\u003e \u003c/span\u003ePLUGINS\n{\u003cspan class=\"hljs-string\"\u003e'say_hello'\u003c/span\u003e: \u0026#x3C;function say_hello at \u003cspan class=\"hljs-number\"\u003e0x7f768eae6730\u003c/span\u003e\u003e,\n \u003cspan class=\"hljs-string\"\u003e'be_awesome'\u003c/span\u003e: \u0026#x3C;function be_awesome at \u003cspan class=\"hljs-number\"\u003e0x7f768eae67b8\u003c/span\u003e\u003e}\n\n\u003cspan class=\"hljs-meta\"\u003e\u003e\u003e\u003e \u003c/span\u003erandomly_greet(\u003cspan class=\"hljs-string\"\u003e\"Alice\"\u003c/span\u003e)\nUsing \u003cspan class=\"hljs-string\"\u003e'say_hello'\u003c/span\u003e\n\u003cspan class=\"hljs-string\"\u003e'Hello Alice'\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe main benefit of this simple plugin architecture is that you do not need to maintain a list of which plugins exist. That list is created when the plugins register themselves. This makes it trivial to add a new plugin: just define the function and decorate it with \u003ccode\u003e@register\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eIf you are familiar with \u003ccode\u003eglobals()\u003c/code\u003e in Python, you might see some similarities to how the plugin architecture works. \u003ccode\u003eglobals()\u003c/code\u003e gives access to all global variables in the current scope, including your plugins:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\n\u003cspan class=\"hljs-meta\"\u003e\u003e\u003e\u003e \u003c/span\u003e\u003cspan class=\"hljs-built_in\"\u003eglobals\u003c/span\u003e()\n{..., \u003cspan class=\"hljs-comment\"\u003e# Lots of variables not shown here.\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e'say_hello'\u003c/span\u003e: \u0026#x3C;function say_hello at \u003cspan class=\"hljs-number\"\u003e0x7f768eae6730\u003c/span\u003e\u003e,\n \u003cspan class=\"hljs-string\"\u003e'be_awesome'\u003c/span\u003e: \u0026#x3C;function be_awesome at \u003cspan class=\"hljs-number\"\u003e0x7f768eae67b8\u003c/span\u003e\u003e,\n \u003cspan class=\"hljs-string\"\u003e'randomly_greet'\u003c/span\u003e: \u0026#x3C;function randomly_greet at \u003cspan class=\"hljs-number\"\u003e0x7f768eae6840\u003c/span\u003e\u003e}\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUsing the \u003ccode\u003e@register\u003c/code\u003e decorator, you can create your own curated list of interesting variables, effectively hand-picking some functions from \u003ccode\u003eglobals()\u003c/code\u003e.\u003c/p\u003e\n\u003ch3 id=\"creating-a-singleton-class\"\u003eCreating a singleton class\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eSingleton class is a design pattern that restricts the instantiation of a class and ensures that only one instance of the class exists.\u003c/strong\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eSingleton class is helpful when there is a cap on the number of concurrent users who can use a shared resource or when there is only one point of access to a resource. In python singleton class can be created just using decorator.\u003c/p\u003e\n\u003cp\u003eSingle instantiation can be guaranteed by specifically coding singleton classes. But, utilising decorators is a clever method to reuse the code for several classes if there are several singleton classes.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e functools \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e wraps\n\n\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esingleton\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ecls\u003c/span\u003e):\n    \u003cspan class=\"hljs-string\"\u003e\"\"\"Example: Create singleton class with decorator\"\"\"\u003c/span\u003e\n    instances = {}\n\n\u003cspan class=\"hljs-meta\"\u003e    @wraps(\u003cspan class=\"hljs-params\"\u003ecls\u003c/span\u003e)\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ewrapper\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e*args, **kwargs\u003c/span\u003e):\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e cls \u003cspan class=\"hljs-keyword\"\u003enot\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e instances:\n            instances[cls] = cls(*args, **kwargs)\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e instances[cls]\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e wrapper\n\n\n\u003cspan class=\"hljs-meta\"\u003e@singleton\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSampleClass\u003c/span\u003e:\n    \u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003e__init__\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eself\u003c/span\u003e):\n        \u003cspan class=\"hljs-keyword\"\u003epass\u003c/span\u003e\n\n\nsingleton_class = SampleClass()\nsingleton_class2 = SampleClass()\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(singleton_class == singleton_class2)\n\u003cspan class=\"hljs-comment\"\u003e# True\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHope, you now have a solid understanding of decorators fundamentals, practical advice and real-world examples. Other applications include the use of decorator for caching, memory management, and timeout precedures. These decorators are more sophisticated, thus using built-in decorators from python or decorators from 3^rd party python packages is preferable to creating them from scratch.\u003c/p\u003e\n\u003cp\u003eHope In future , I will come up with new blog posts explaining all the really really complicated python decorators.\u003c/p\u003e\n\u003ch2 id=\"references\"\u003eREFERENCES\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://www.wikiwand.com/en/Singleton_pattern\"\u003ehttps://www.wikiwand.com/en/Singleton_pattern\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://peps.python.org/pep-0318/\"\u003ehttps://peps.python.org/pep-0318/\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://realpython.com/primer-on-python-decorators/\"\u003ehttps://realpython.com/primer-on-python-decorators/\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"understanding-python-decorator-with-its-usage"},"buildId":"k_09xrTNq9uqtbBZ_acaQ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>