(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{592:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[slug]",function(){return a(5435)}])},7518:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n=a(5893);function s(e){let{children:t}=e;return(0,n.jsx)("div",{className:"container max-w-3xl m-auto px-4",children:t})}},9510:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n=a(5281);function s(e,t){try{return(0,n.Z)(e,{addSuffix:null!=t&&t})}catch(e){return"Few years back ..."}}},5435:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return b},default:function(){return N}});var n=a(5893),s=a(1163),r=a(2918),i=a.n(r),l=a(8100);function c(e){let{text:t,setText:a,onSubmit:s}=e,{isAuthenticated:r,logout:i,loginWithPopup:c}=(0,l.D3)();return(0,n.jsxs)("form",{onSubmit:s,children:[(0,n.jsx)("textarea",{className:"flex w-full max-h-40 p-3 rounded resize-y bg-gray-200 text-gray-900 placeholder-gray-500",rows:2,placeholder:r?"What are your thoughts?":"Please login to leave a comment",onChange:e=>a(e.target.value),value:t,disabled:!r}),(0,n.jsx)("div",{className:"flex items-center mt-4",children:r?(0,n.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,n.jsx)("button",{className:"py-2 px-4 rounded bg-blue-600 text-white disabled:opacity-40 hover:bg-blue-700",children:"Send"}),(0,n.jsx)("button",{className:"text-gray-500",onClick:()=>i({async openUrl(e){window.location.replace(e)},logoutParams:{returnTo:window.location.origin}}),children:"Log Out"})]}):(0,n.jsx)("button",{type:"button",className:"py-2 px-4 rounded bg-blue-600 text-white disabled:opacity-40 hover:bg-blue-700",onClick:()=>c(),children:"Log In"})})]})}var o=a(9510),u=a(5675),d=a.n(u);function x(e){let{comments:t,onDelete:a}=e,{user:s}=(0,l.D3)();return(0,n.jsx)("div",{className:"space-y-6 mt-10",children:t&&Array.isArray(t)&&t.map(e=>{let t=s&&s.sub===e.user.sub,r=s&&"chapagain.aaditya@gmail.com"===s.email;return(0,n.jsxs)("div",{className:"flex space-x-4",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)(d(),{src:e.user.picture,alt:e.user.name,width:40,height:40,className:"rounded-full"})}),(0,n.jsxs)("div",{className:"flex-grow",children:[(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("b",{children:e.user.name}),(0,n.jsx)("time",{className:"text-gray-400",children:(0,o.Z)(e.created_at)}),(r||t)&&(0,n.jsx)("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>a(e),"aria-label":"Close",children:"x"})]}),(0,n.jsx)("div",{children:e.text})]})]},e.created_at)})})}var m=a(7294),h=a(9734);let p=e=>fetch(e).then(e=>e.json());function j(){let{text:e,setText:t,comments:a,onSubmit:s,onDelete:r}=function(){let{getAccessTokenSilently:e}=(0,l.D3)(),[t,a]=(0,m.useState)(""),{data:n,mutate:s}=(0,h.ZP)("/api/comment",p,{fallbackData:[]}),r=async n=>{n.preventDefault();let r=await e();try{await fetch("/api/comment",{method:"POST",body:JSON.stringify({text:t}),headers:{Authorization:r,"Content-Type":"application/json"}}),a(""),await s()}catch(e){console.log(e)}},i=async t=>{let a=await e();try{await fetch("/api/comment",{method:"DELETE",body:JSON.stringify({comment:t}),headers:{Authorization:a,"Content-Type":"application/json"}}),await s()}catch(e){console.log(e)}};return{text:t,setText:a,comments:n,onSubmit:r,onDelete:i}}();return(0,n.jsxs)("div",{className:"mt-20",children:[(0,n.jsx)(c,{onSubmit:s,text:e,setText:t}),(0,n.jsx)(x,{comments:a,onDelete:r})]})}var y=a(7518),f=a(9008),g=a.n(f),b=!0;function N(e){let{post:t}=e,a=(0,s.useRouter)();return a.isFallback||(null==t?void 0:t.slug)?(0,n.jsxs)(y.Z,{children:[(0,n.jsxs)(g(),{children:[(0,n.jsxs)("title",{children:[t.title," | aaditya's blog"]}),(0,n.jsx)("meta",{name:"description",content:"This post is about ".concat(t.tags," .")}),(0,n.jsx)("meta",{property:"og:title",content:"My Personal blog site."}),(0,n.jsx)("meta",{property:"og:description",content:"This post is about ".concat(t.tags," .")}),(0,n.jsx)("meta",{property:"og:url",content:"https://aadityachapagain.com/".concat(a.asPath)}),(0,n.jsx)("meta",{property:"og:type",content:"website"}),t.tags.trim().split(",").map((e,t)=>(0,n.jsx)("meta",{name:"keywords",content:e},t))]}),a.isFallback?(0,n.jsx)("div",{children:"Loadingâ€¦"}):(0,n.jsxs)("div",{children:[(0,n.jsxs)("article",{children:[(0,n.jsxs)("header",{children:[(0,n.jsx)("h1",{className:"text-4xl font-bold",children:t.title}),t.summary?(0,n.jsx)("p",{className:"mt-2 text-xl",children:t.summary}):null,(0,n.jsx)("time",{className:"flex mt-2 text-gray-400",children:(0,o.Z)(new Date(t.date))})]}),(0,n.jsx)("div",{className:"prose mt-10 ",dangerouslySetInnerHTML:{__html:t.content}})]}),(0,n.jsx)(j,{})]})]}):(0,n.jsx)(i(),{statusCode:404})}}},function(e){e.O(0,[281,113,774,888,179],function(){return e(e.s=592)}),_N_E=e.O()}]);